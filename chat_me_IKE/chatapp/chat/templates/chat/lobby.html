{% extends "chat/base.html" %}

    {% block title %} Lobby | {% endblock %}
  
    {% block body %}

    <main class="flex flex-col justify-center">
        <div class="max-w-md w-full mx-auto bg-gray-200 rounded-lg p-7 space-y-3 mt-5">
            <form method="get" action="{% url 'search' %}">
                <div class="flex flex-wrap space-x-2">
                    <label class="mb-1 text-sm" for="q">Enter a room name:</label>
                    <input class="border rounded-md px-3 py-2 mb-5" type="text" name="q" placeholder="Search..." required>
                    <div>
                        <button class="w-full p-2 rounded-md bg-blue-400 text-white py-2" type="submit">Search</button>
                    </div>
                </div>
            </form>
        </div>
        <div class="w-full mt-5">
            <div class="w-full flex items-center justify-center">
                <h1 class="text-2xl font-semibold">Your Rooms:</h1>
            </div>
            <div class="w-full flex flex-wrap items-center justify-center">
                {%for room in rooms%}
                    {%if room.creator == request.user%}
                    <div class="w-full lg:w-1/4 px-3 py-3">
                        <div class="p-4 bg-white shadow rounded-xl text-center">
                            <h2 class="mb-5 text-2xl font-semibold">{{room.name}}</h2>
    
                            <a href={% url 'room' room.id %} class="px-5 py-3 block rounded-xl text-white bg-blue-400 hover:bg-blue-300">Join</a>
                        </div>
                    </div>
                    {%else%}
                    <h1 class="font-semibold">You have no rooms</h1>
                    {%endif%}
                {%endfor%}
            </div>
        </div>
    </main>


    {% comment %} <div class="">
        <div class="w-full flex items-center justify-center">
            <h1 class="text-2xl font-semibold">Explore Rooms:</h1>
        </div>
        <div class="w-full flex flex-wrap items-center justify-center">
            {%for room in rooms%}
                {%if room.creator != request.user%}
                <div class="w-full lg:w-1/4 px-3 py-3">
                    <div class="p-4 bg-white shadow rounded-xl text-center">
                        <h2 class="mb-5 text-2xl font-semibold">{{room.name}}</h2>
    
                        <a href="{{room.id}}" class="px-5 py-3 block rounded-xl text-white bg-blue-400 hover:bg-blue-300">Join</a>
                    </div>
                </div>
                {%endif%}
            {%endfor%}
            <h1 class="font-semibold">No other rooms to join</h1>
        </div>
    </div> {% endcomment %}

    
    {% endblock %}
